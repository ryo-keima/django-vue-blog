{"version":3,"file":"js/comment-editor.34d85a93.js","mappings":"yPACOA,MAAM,kB,UACTC,EAAAA,EAAAA,GAAuC,MAAnCD,MAAM,QAAO,qBAAiB,K,UAGhCC,EAAAA,EAAAA,GAAqD,UAA7CD,MAAM,wBAAuB,WAAO,K,SAE9BA,MAAM,oB,0CANxBE,EAAAA,EAAAA,IAOM,MAPN,EAOM,CANJC,GACAF,EAAAA,EAAAA,GAGO,QAHAG,SAAM,8BAAUC,EAAAA,UAAAA,EAAAA,YAAAA,IAAQ,eAA/B,WACEJ,EAAAA,EAAAA,GAA0E,Y,qCAAvDK,EAAAA,YAAWC,GAAEP,MAAM,eAAeQ,KAAK,MAA1D,iBAAmBF,EAAAA,eACnBG,GAFF,IAISH,EAAAA,QAAAA,EAAAA,EAAAA,OAATJ,EAAAA,EAAAA,IAAwD,IAAxD,GAAwDQ,EAAAA,EAAAA,IAAZJ,EAAAA,OAAK,KAAjD,iB,aAOJ,GACEK,KAAM,gBACNC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,UAAU,IAGdC,OACE,MAAO,CACLC,YAAa,KACbC,YAAa,KACbC,MAAO,OAGXC,QAAS,CACPC,iBACE,IAAKC,KAAKL,YAER,YADAK,KAAKH,MAAQ,sCAER,GAAIG,KAAKL,YAAYM,OAAS,IAEnC,YADAD,KAAKH,MAAQ,mDAGf,MAAMK,EAAY,oBAAmBF,KAAKV,QAC1C,UACQa,EAAAA,EAAAA,IAAUD,EAAU,CAAEE,QAASJ,KAAKL,cAC1CK,KAAKK,QAAQC,KAAK,CAChBlB,KAAM,UACNmB,OAAQ,CAAEC,KAAMR,KAAKJ,eAEvB,MAAOC,GACPY,QAAQC,IAAIb,GACZY,QAAQC,IAAIb,EAAMc,UAClBC,MAAMf,EAAMc,SAASE,eAI3Bd,uBAAuBe,EAAIC,EAAMC,GAC/B,MAAMd,EAAY,oBAAmBY,EAAGP,OAAOjB,QAC/C,IACE,MAAMqB,QAAiBR,EAAAA,EAAAA,IAAUD,GACjC,OAAOc,GACJC,IACEA,EAAGtB,YAAcgB,EAASjB,KAAKU,QAC/Ba,EAAGrB,YAAce,EAASjB,KAAKwB,gBAGpC,MAAOrB,GACPY,QAAQC,IAAIb,M,SCxDlB,MAAMsB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://frontend/./src/views/CommentEditor.vue","webpack://frontend/./src/views/CommentEditor.vue?2073"],"sourcesContent":["<template>\n  <div class=\"container mt-2\">\n    <h1 class=\"mb-3\">Edit Your Comment</h1>\n    <form @submit.prevent=\"onSubmit\">\n      <textarea v-model=\"commentBody\" class=\"form-control\" rows=\"10\"></textarea>\n      <button class=\"btn btn-success mt-3\">Publish</button>\n    </form>\n    <p v-if=\"error\" class=\"muted mt-2 error\">{{ error }}</p>\n  </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/api.service.js\";\n\nexport default {\n  name: \"CommentEditor\",\n  props: {\n    uuid: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      commentBody: null,\n      articleSlug: null,\n      error: null,\n    };\n  },\n  methods: {\n    async onSubmit() {\n      if (!this.commentBody) {\n        this.error = \"You can't submit an empty comment!\";\n        return;\n      } else if (this.commentBody.length > 250) {\n        this.error = \"Ensure comment has no more than 250 characters!\";\n        return;\n      }\n      const endpoint = `/api/v1/comments/${this.uuid}/`;\n      try {\n        await axios.put(endpoint, { content: this.commentBody });\n        this.$router.push({\n          name: \"article\",\n          params: { slug: this.articleSlug },\n        });\n      } catch (error) {\n        console.log(error)\n        console.log(error.response);\n        alert(error.response.statusText);\n      }\n    },\n  },\n  async beforeRouteEnter(to, from, next) {\n    const endpoint = `/api/v1/comments/${to.params.uuid}/`;\n    try {\n      const response = await axios.get(endpoint);\n      return next(\n        (vm) => (\n          (vm.commentBody = response.data.content),\n          (vm.articleSlug = response.data.article_slug)\n        )\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  },\n};\n</script>\n\n<style scoped>\n.error {\n  color: #b81762;\n}\n</style>","import { render } from \"./CommentEditor.vue?vue&type=template&id=46d613ac&scoped=true\"\nimport script from \"./CommentEditor.vue?vue&type=script&lang=js\"\nexport * from \"./CommentEditor.vue?vue&type=script&lang=js\"\n\nimport \"./CommentEditor.vue?vue&type=style&index=0&id=46d613ac&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/ryosukemaeda/Programming/Issues/django-vue-blog/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-46d613ac\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","onSubmit","$options","$data","$event","rows","_hoisted_3","_toDisplayString","name","props","uuid","type","String","required","data","commentBody","articleSlug","error","methods","async","this","length","endpoint","axios","content","$router","push","params","slug","console","log","response","alert","statusText","to","from","next","vm","article_slug","__exports__","render"],"sourceRoot":""}