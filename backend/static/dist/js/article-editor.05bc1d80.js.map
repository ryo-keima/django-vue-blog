{"version":3,"file":"js/article-editor.05bc1d80.js","mappings":"mMACOA,MAAM,kB,GACTC,EAAAA,EAAAA,GAAqC,MAAjCD,MAAM,QAAO,mBAAe,G,SAChBA,MAAM,2B,GAepBC,EAAAA,EAAAA,GAAmE,UAA3DC,KAAK,SAASF,MAAM,wBAAuB,WAAO,G,0CAjB9DG,EAAAA,EAAAA,IAmBM,MAnBN,EAmBM,CAlBJC,EACSC,EAAAA,QAAAA,EAAAA,EAAAA,OAATF,EAAAA,EAAAA,IAA+D,IAA/D,GAA+DG,EAAAA,EAAAA,IAAZD,EAAAA,OAAK,KAAxD,gBACAJ,EAAAA,EAAAA,GAeO,QAfAM,SAAM,8BAAUC,EAAAA,UAAAA,EAAAA,YAAAA,IAAQ,eAA/B,WACEP,EAAAA,EAAAA,GAME,S,qCALSI,EAAAA,aAAYI,GACrBC,YAAY,QACZR,KAAK,OACLF,MAAM,oBACNW,UAAU,MALZ,iBACWN,EAAAA,iBAAAA,EAAAA,EAAAA,KAMXJ,EAAAA,EAAAA,GAKY,Y,qCAJDI,EAAAA,YAAWI,GACpBG,KAAK,KACLF,YAAY,WACZV,MAAM,gBAJR,iBACWK,EAAAA,eAKXQ,GAdF,M,aAqBJ,GACEC,KAAM,gBACNC,MAAO,CACLC,KAAM,CACJd,KAAMe,OACNC,UAAU,IAGdC,OACE,MAAO,CACLC,aAAc,KACdC,YAAa,KACbC,MAAO,OAGXC,QAAS,CACPC,8BACE,IAAIC,EAAW,oBACXC,EAAS,YACKC,IAAdC,KAAKZ,MAAoC,KAAdY,KAAKZ,OAClCS,GAAa,GAAEG,KAAKZ,QACpBU,EAAS,OAEX,IACE,MAAMG,QAAiBC,EAAAA,EAAAA,GAAM,CAC3BJ,OAAQA,EACRK,IAAKN,EACLN,KAAM,CAAEa,MAAOJ,KAAKR,aAAca,KAAML,KAAKP,eAE/CO,KAAKM,QAAQC,KAAK,CAChBrB,KAAM,UACNsB,OAAQ,CAAEpB,KAAMa,EAASV,KAAKH,QAEhC,MAAOM,GACPM,KAAKN,MAAQA,EAAMO,SAASQ,aAGhC9B,WACOqB,KAAKR,aAECQ,KAAKR,aAAakB,OAAS,GACpCV,KAAKN,MAAQ,uDACHM,KAAKP,YAGfO,KAAKW,wBAFLX,KAAKN,MAAQ,4CAJbM,KAAKN,MAAQ,0CASjBkB,UACEC,SAAST,MAAQ,6BAGrBR,uBAAuBkB,EAAIC,EAAMC,GAC/B,QAAuBjB,IAAnBe,EAAGN,OAAOpB,MAAyC,KAAnB0B,EAAGN,OAAOpB,KAc5C,OAAO4B,IAdkD,CACzD,MAAMnB,EAAY,oBAAmBiB,EAAGN,OAAOpB,QAC/C,IACE,MAAMa,QAAiBC,EAAAA,EAAAA,IAAUL,GACjC,OAAOmB,GACJC,IACEA,EAAGzB,aAAeS,EAASV,KAAKa,MAChCa,EAAGxB,YAAcQ,EAASV,KAAKc,QAGpC,MAAOX,GACPwB,QAAQC,IAAIzB,O,SCpFpB,MAAM0B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://frontend/./src/views/ArticleEditor.vue","webpack://frontend/./src/views/ArticleEditor.vue?9677"],"sourcesContent":["<template>\n  <div class=\"container my-2\">\n    <h1 class=\"mb-3\">Write a Article</h1>\n    <p v-if=\"error\" class=\"alert alert-danger mt-2\">{{ error }}</p>\n    <form @submit.prevent=\"onSubmit\">\n      <input\n        v-model=\"articleTitle\"\n        placeholder=\"Title\"\n        type=\"text\"\n        class=\"form-control mb-3\"\n        maxlength=\"50\"\n      />\n      <textarea\n        v-model=\"articleBody\"\n        rows=\"10\"\n        placeholder=\"Contents\"\n        class=\"form-control\"\n      ></textarea>\n      <button type=\"submit\" class=\"btn btn-success mt-3\">Publish</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/api.service.js\";\nexport default {\n  name: \"ArticleEditor\",\n  props: {\n    slug: {\n      type: String,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      articleTitle: null,\n      articleBody: null,\n      error: null,\n    };\n  },\n  methods: {\n    async performNetworkRequest() {\n      let endpoint = \"/api/v1/articles/\";\n      let method = \"POST\";\n      if (this.slug !== undefined && this.slug !== \"\") {\n        endpoint += `${this.slug}/`;\n        method = \"PUT\";\n      }\n      try {\n        const response = await axios({\n          method: method,\n          url: endpoint,\n          data: { title: this.articleTitle, body: this.articleBody },\n        });\n        this.$router.push({\n          name: \"article\",\n          params: { slug: response.data.slug },\n        });\n      } catch (error) {\n        this.error = error.response.statusText;\n      }\n    },\n    onSubmit() {\n      if (!this.articleTitle) {\n        this.error = \"You can't send an empty article title!\";\n      } else if (this.articleTitle.length > 50) {\n        this.error = \"Ensure article title has no more than 50 characters!\";\n      } else if (!this.articleBody) {\n        this.error = \"You can't send an empty article contents!\";\n      } else {\n        this.performNetworkRequest();\n      }\n    },\n    created() {\n      document.title = \"Editor - Django Vue Blog\";\n    },\n  },\n  async beforeRouteEnter(to, from, next) {\n    if (to.params.slug !== undefined && to.params.slug !== \"\") {\n      const endpoint = `/api/v1/articles/${to.params.slug}/`;\n      try {\n        const response = await axios.get(endpoint);\n        return next(\n          (vm) => (\n            (vm.articleTitle = response.data.title),\n            (vm.articleBody = response.data.body)\n          )\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      return next();\n    }\n  },\n};\n</script>","import { render } from \"./ArticleEditor.vue?vue&type=template&id=621971f8\"\nimport script from \"./ArticleEditor.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleEditor.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ryosukemaeda/Programming/Issues/django-vue-blog/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","_createElementBlock","_hoisted_2","$data","_toDisplayString","onSubmit","$options","$event","placeholder","maxlength","rows","_hoisted_4","name","props","slug","String","required","data","articleTitle","articleBody","error","methods","async","endpoint","method","undefined","this","response","axios","url","title","body","$router","push","params","statusText","length","performNetworkRequest","created","document","to","from","next","vm","console","log","__exports__","render"],"sourceRoot":""}